<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Windows 에서 Filename too long 에러</title>
        <link rel="stylesheet" href="https://imjang57.github.io/garret/theme/css/main.css" />
        <link href="https://imjang57.github.io/garret/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="garret Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://imjang57.github.io/garret/">garret </a></h1>
                <nav><ul>
                    <li><a href="https://imjang57.github.io/garret/pages/about.html">About</a></li>
                    <li><a href="https://imjang57.github.io/garret/category/dev-issues.html">dev-issues</a></li>
                    <li><a href="https://imjang57.github.io/garret/category/linux.html">linux</a></li>
                    <li><a href="https://imjang57.github.io/garret/category/mac.html">mac</a></li>
                    <li><a href="https://imjang57.github.io/garret/category/misc.html">misc</a></li>
                    <li><a href="https://imjang57.github.io/garret/category/programming.html">programming</a></li>
                    <li><a href="https://imjang57.github.io/garret/category/tools.html">tools</a></li>
                    <li class="active"><a href="https://imjang57.github.io/garret/category/windows.html">windows</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://imjang57.github.io/garret/windows-error-filename-too-long.html" rel="bookmark"
           title="Permalink to Windows 에서 Filename too long 에러">Windows 에서 Filename too long 에러</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-18T00:00:00+09:00">
                Published: 수 18 1월 2017
        </abbr>
		<br />
        <abbr class="modified" title="2017-01-18T00:00:00+09:00">
                Updated: 수 18 1월 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://imjang57.github.io/garret/author/imjang57.html">imjang57</a>
        </address>
<p>In <a href="https://imjang57.github.io/garret/category/windows.html">windows</a>.</p>
<p>tags: <a href="https://imjang57.github.io/garret/tag/windows.html">windows</a> <a href="https://imjang57.github.io/garret/tag/error.html">error</a> </p>
</footer><!-- /.post-info -->      <h1>Windows 에서 Filename too long 에러</h1>
<p>Windows 에서 Git 사용하다가 아래와 같은 에러가 발생했다.</p>
<div class="highlight"><pre><span></span><span class="n">fatal</span><span class="o">:</span> <span class="n">cannot</span> <span class="n">create</span> <span class="n">directory</span> <span class="n">at</span> <span class="s1">&#39;node_modules/gulp-clean/node_modules/gulp-util/node_modules/dateformat/node_modules/meow/node_modules/normalize-package-data/node_modules/validate-npm-package-license/node_modules/spdx-correct/node_modules/spdx-license-ids&#39;</span><span class="o">:</span> <span class="n">Filename</span> <span class="n">too</span> <span class="n">long</span>
<span class="n">warning</span><span class="o">:</span> <span class="n">Clone</span> <span class="n">succeeded</span><span class="o">,</span> <span class="n">but</span> <span class="n">checkout</span> <span class="n">failed</span><span class="o">.</span>
<span class="n">You</span> <span class="n">can</span> <span class="n">inspect</span> <span class="n">what</span> <span class="n">was</span> <span class="n">checked</span> <span class="n">out</span> <span class="k">with</span> <span class="s1">&#39;git status&#39;</span>
<span class="n">and</span> <span class="n">retry</span> <span class="n">the</span> <span class="n">checkout</span> <span class="k">with</span> <span class="s1">&#39;git checkout -f HEAD&#39;</span>
</pre></div>


<p>에러 메시지 부분에 파일 이름이 매우 길고 메시지 끝에 <code>Filename too long</code> 이라는 글자가 보인다. 말그대로 파일 이름이 너무 길어서 나는 에러다.</p>
<p><a href="http://stackoverflow.com/questions/22575662/filename-too-long-in-git-for-windows/22575737#22575737">Stack Overflow</a>의 답변에 따르면 윈도우의 오래된 파일 API 를 사용하는 경우 파일 이름의 길이가 260글자까지만 가능하다. 최신 API 를 사용하면 4096글자까지 가능하다. Window 의 Git 이 사용하는 MinGW 가 오래된 API 를 사용하는 듯하다.</p>
<p>나는 Windows 7 에서 Git 1.9.x 버전을 사용하다가 위 에러를 만났다. 혹시나 해서 현재 최신 버전인 2.10.1 으로 다시 설치해봤지만 여전히 에러가 발생한다. 즉, 아직 고쳐지지 않았다는 이야기..</p>
<p><a href="http://stackoverflow.com/questions/22575662/filename-too-long-in-git-for-windows/26111092#26111092">같은 StackOverflow 질문에 달린 답변</a>에 따르면 아래 설정을 하면 된다고 한다.</p>
<div class="highlight"><pre><span></span>git config --system core.longpaths true
</pre></div>


<p>하지만 위 설정을 해도 안된다. 위 설정으로 해결된다는 사람도 있는데 내 경우와 다른 점이 무엇인지 잘 모르겠다. 그래서 그냥 리눅스에 clone 한 Git repository 에서 export 해서 zip 으로 압축해서 옮겨왔다. 시간이 많지 않고, 다른 Git client 찾아서 설치하고 테스트하기도 귀찮고 윈도우에서 작업할게 아니라 테스트용이라..</p>
<p><a href="https://github.com/msysgit/msysgit/wiki/Git-cannot-create-a-file-or-directory-with-a-long-path">이 글</a>에 Git 이 윈도우에서 260자 제한을 건 기술적인 이유가 잘 나와있으니 궁금하면 읽어보자.</p>
<p>참고로, zip 파일을 윈도우에서 압축해제 할 때도 위 에러가 발생했다. 내가 사용하던 반디집(Bandizip) 프로그램이 예전 버전이라 오래된 API 를 사용하고 있었나 싶어서 최신으로 업데이트했다. 그러니 매우 잘 동작했다.</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://imjang57.github.io/garret/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-90095241-1', 'auto');
    ga('send', 'pageview');
    </script>
</body>
</html>